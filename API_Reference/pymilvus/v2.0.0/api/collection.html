
<h1>Collection<a class="headerlink" href="#collection" title="Permalink to this headline">¶</a></h1>
<p>The scheme of a collection is fixed when collection created. Collection scheme consists of many fields,
and must contain a vector field. A field to collection is like a column to RDBMS table. Data type are the same in one field.</p>
<p>A collection is a set of entities, which are also called rows. An entity contains data of all fields.
Each entity can be labeled, a group of entities with the same label is called a partition. Entity without a
label will be tagged a default label by Milvus.</p>
<div class="section" id="constructor">
<h2>Constructor<a class="headerlink" href="#constructor" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 73%" >
<col style="width: 27%" >
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Constructor</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference external" href="#pymilvus.Collection">Collection()</a></p></td>
<td><p>Milvus client</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="attributes">
<h2>Attributes<a class="headerlink" href="#attributes" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 52%" >
<col style="width: 48%" >
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Attributes</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference external" href="#pymilvus.Collection.schema">schema</a></p></td>
<td><p>Return the schema of collection.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#pymilvus.Collection.description">description</a></p></td>
<td><p>Return the description text about the collection.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#pymilvus.Collection.name">name</a></p></td>
<td><p>Return the collection name.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#pymilvus.Collection.is_empty">is_empty</a></p></td>
<td><p>Return whether the collection is empty.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#pymilvus.Collection.num_entities">num_entities</a></p></td>
<td><p>Return the number of entities.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#pymilvus.Collection.primary_field">primary_field</a></p></td>
<td><p>Return the primary field of collection.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#pymilvus.Collection.partitions">partitions</a></p></td>
<td><p>Return all partitions of the collection.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#pymilvus.Collection.indexes">indexes</a></p></td>
<td><p>Return all indexes of the collection.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 46%" >
<col style="width: 54%" >
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>API</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference external" href="#pymilvus.Collection.drop">drop()</a></p></td>
<td><p>Drop the collection, as well as its corresponding index files.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#pymilvus.Collection.load">load()</a></p></td>
<td><p>Load the collection from disk to memory.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#pymilvus.Collection.release">release()</a></p></td>
<td><p>Release the collection from memory.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#pymilvus.Collection.insert">insert()</a></p></td>
<td><p>Insert data into collection.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#pymilvus.Collection.delete">delete()</a></p></td>
<td><p>Delete entities with an expression condition.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#pymilvus.Collection.search">search()</a></p></td>
<td><p>Vector similarity search with an optional boolean expression as filters.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#pymilvus.Collection.query">query()</a></p></td>
<td><p>Query with a set of criteria.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#pymilvus.Collection.partition">partition()</a></p></td>
<td><p>Return the partition corresponding to name.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#pymilvus.Collection.create_partition">create_partition()</a></p></td>
<td><p>Create the partition for the collection.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#pymilvus.Collection.has_partition">has_partition()</a></p></td>
<td><p>Checks if a specified partition exists.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#pymilvus.Collection.drop_partition">drop_partition()</a></p></td>
<td><p>Drop the partition and its corresponding index files.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#pymilvus.Collection.index">index()</a></p></td>
<td><p>Return the index corresponding to name.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#pymilvus.Collection.create_index">create_index()</a></p></td>
<td><p>Create index on a specified column according to the index parameters.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#pymilvus.Collection.has_index">has_index()</a></p></td>
<td><p>Checks whether a specified index exists.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#pymilvus.Collection.drop_index">drop_index()</a></p></td>
<td><p>Drop index and its corresponding index files.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="apis-references">
<h2>APIs References<a class="headerlink" href="#apis-references" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pymilvus.Collection">
<em class="property">class </em><code class="sig-prename descclassname">pymilvus.</code><code class="sig-name descname">Collection</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">schema=None</em>, <em class="sig-param">using='default'</em>, <em class="sig-param">shards_num=2</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pymilvus.Collection" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a class corresponding to collection in milvus.</p>
<dl class="method">
<dt id="pymilvus.Collection.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">schema=None</em>, <em class="sig-param">using='default'</em>, <em class="sig-param">shards_num=2</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pymilvus.Collection.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a collection by name, schema and other parameters.
Connection information is contained in kwargs.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) -- the name of collection</p></li>
<li><p><strong>schema</strong> (class <cite>schema.CollectionSchema</cite>) -- the schema of collection</p></li>
<li><p><strong>using</strong> (<em>str</em>) -- Milvus link of create collection</p></li>
<li><p><strong>shards_num</strong> (<em>int</em>) -- How wide to scale collection. Corresponds to how many active datanodes
can be used on insert.</p></li>
<li><p><strong>kwargs</strong> -- <ul>
<li><p><em>consistency_level</em> (<code class="docutils literal notranslate"><span class="pre">str/int</span></code>) --</p></li>
</ul>
</p><p>Which consistency level to use when searching in the collection. For details, see
<a class="reference external" href="https://github.com/milvus-io/milvus/blob/master/docs/developer_guides/how-guarantee-ts-works.md">https://github.com/milvus-io/milvus/blob/master/docs/developer_guides/how-guarantee-ts-works.md</a>.
Note: this parameter can be overwritten by the same parameter specified in search.</p>
</li>
</ul>
</dd>
<dt class="field-even">Example</dt>
<dd class="field-even"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType
>>> connections.connect()
<pymilvus.client.stub.Milvus object at 0x7f9a190ca898></pymilvus.client.stub.Milvus>
>>> fields = [
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=128)
... ]
>>> description="This is a new collection description."
>>> schema = CollectionSchema(fields=fields, description=description)
>>> collection = Collection(name="test_collection_init", schema=schema)
>>> collection.name
'test_collection_init'
>>> collection.description
'This is a new collection description.'
>>> collection.is_empty
True
>>> collection.num_entities
0
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Collection.schema">
<em class="property">property </em><code class="sig-name descname">schema</code><a class="headerlink" href="#pymilvus.Collection.schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the schema of the collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Return schema.CollectionSchema</dt>
<dd class="field-odd"><p>Schema of the collection.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Collection.description">
<em class="property">property </em><code class="sig-name descname">description</code><a class="headerlink" href="#pymilvus.Collection.description" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a text description of the collection.</p>
<dl class="field-list">
<dt class="field-odd">Return str</dt>
<dd class="field-odd"><p>Collection description text, returned when the operation succeeds.</p>
</dd>
<dt class="field-even">Example</dt>
<dd class="field-even"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType
>>> connections.connect()
>>> fields = [
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=128)
... ]
>>> description="This is an example text description."
>>> schema = CollectionSchema(fields=fields, description=description)
>>> collection = Collection(name="test_collection_description", schema=schema)
>>> collection.description
'This is an example text description.'
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Collection.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#pymilvus.Collection.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the collection name.</p>
<dl class="field-list">
<dt class="field-odd">Return str</dt>
<dd class="field-odd"><p>The collection name, returned when the operation succeeds.</p>
</dd>
<dt class="field-even">Example</dt>
<dd class="field-even"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType
>>> connections.connect()
>>> fields = [
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=128)
... ]
>>> schema = CollectionSchema(fields)
>>> collection = Collection("test_collection_name", schema)
>>> collection.name
'test_collection_name'
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Collection.is_empty">
<em class="property">property </em><code class="sig-name descname">is_empty</code><a class="headerlink" href="#pymilvus.Collection.is_empty" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether the collection is empty.
This method need to call <a class="reference external" href="#pymilvus.Collection.num_entities">num_entities</a>.</p>
<dl class="field-list">
<dt class="field-odd">Return bool</dt>
<dd class="field-odd"><ul class="simple">
<li><p>True: The collection is empty.</p></li>
<li><p>False: The collection is  gfghnot empty.</p></li>
</ul>
</dd>
<dt class="field-even">Example</dt>
<dd class="field-even"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType
>>> connections.connect()
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_collection_is_empty", schema)
>>> collection.is_empty
True
>>> collection.insert([[1], [[1.0, 2.0]]])
<pymilvus.search.MutationResult object at 0x7fabaf3e5d50></pymilvus.search.MutationResult>
>>> collection.is_empty
False
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Collection.num_entities">
<em class="property">property </em><code class="sig-name descname">num_entities</code><a class="headerlink" href="#pymilvus.Collection.num_entities" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of entities in the collection.</p>
<dl class="field-list">
<dt class="field-odd">Return int</dt>
<dd class="field-odd"><p>Number of entities in the collection.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>CollectionNotExistException</strong> -- If the collection does not exist.</p>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType
>>> connections.connect()
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_collection_num_entities", schema)
>>> collection.num_entities
0
>>> collection.insert([[1, 2], [[1.0, 2.0], [3.0, 4.0]]])
>>> collection.num_entities
2
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Collection.primary_field">
<em class="property">property </em><code class="sig-name descname">primary_field</code><a class="headerlink" href="#pymilvus.Collection.primary_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the primary field of the collection.</p>
<dl class="field-list">
<dt class="field-odd">Return schema.FieldSchema</dt>
<dd class="field-odd"><p>The primary field of the collection.</p>
</dd>
<dt class="field-even">Example</dt>
<dd class="field-even"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType
>>> connections.connect()
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("film_length", DataType.INT64, description="length in miniute"),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_collection_primary_field", schema)
>>> collection.primary_field.name
'film_id'
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Collection.drop">
<code class="sig-name descname">drop</code><span class="sig-paren">(</span><em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pymilvus.Collection.drop" title="Permalink to this definition">¶</a></dt>
<dd><p>Drops the collection together with its index files.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> -- <ul class="simple">
<li><dl class="simple">
<dt><em>timeout</em> (<code class="docutils literal notranslate"><span class="pre">float</span></code>) --</dt><dd><p>An optional duration of time in seconds to allow for the RPC.
If timeout is set to None,
the client keeps waiting until the server responds or an error occurs.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>CollectionNotExistException</strong> -- If the collection does not exist.</p>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType
>>> connections.connect()
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_collection_drop", schema)
>>> utility.has_collection("test_collection_drop")
True
>>> collection.drop()
>>> utility.has_collection("test_collection_drop")
False
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Collection.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param">partition_names=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pymilvus.Collection.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the collection from disk to memory.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>partition_names</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) -- The specified partitions to load.</p></li>
<li><p><strong>timeout</strong> (<em>float</em>) -- An optional duration of time in seconds to allow for the RPC. If timeout
is set to None, the client keeps waiting until the server responds or error occurs.</p></li>
<li><p><strong>kwargs</strong> -- <ul>
<li><p><em>_async</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>) -- Indicate if invoke asynchronously.</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>CollectionNotExistException</strong> -- If the collection does not exist.</p></li>
<li><p><strong>ParamError</strong> -- If the parameters are invalid.</p></li>
<li><p><strong>BaseException</strong> -- If the specified field, index or partition does not exist.</p></li>
</ul>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType
>>> connections.connect()
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_collection_load", schema)
>>> collection.insert([[1, 2], [[1.0, 2.0], [3.0, 4.0]]])
<pymilvus.search.MutationResult object at 0x7fabaf3e5d50></pymilvus.search.MutationResult>
>>> collection.load()
>>> collection.num_entities
2
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Collection.release">
<code class="sig-name descname">release</code><span class="sig-paren">(</span><em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pymilvus.Collection.release" title="Permalink to this definition">¶</a></dt>
<dd><p>Releases the collection from memory.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> -- <ul class="simple">
<li><p><em>timeout</em> (<code class="docutils literal notranslate"><span class="pre">float</span></code>) --
An optional duration of time in seconds to allow for the RPC. If timeout
is set to None, the client keeps waiting until the server responds or an error occurs.</p></li>
</ul>
</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>CollectionNotExistException</strong> -- If collection does not exist.</p></li>
<li><p><strong>BaseException</strong> -- If collection has not been loaded to memory.</p></li>
</ul>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType
>>> connections.connect()
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_collection_release", schema)
>>> collection.insert([[1, 2], [[1.0, 2.0], [3.0, 4.0]]])
<pymilvus.search.MutationResult object at 0x7fabaf3e5d50></pymilvus.search.MutationResult>
>>> collection.load()
>>> collection.num_entities
2
>>> collection.release()    # release the collection from memory
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Collection.insert">
<code class="sig-name descname">insert</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">partition_name=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pymilvus.Collection.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert data into the collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>list-like</em><em>(</em><em>list</em><em>, </em><em>tuple</em><em>) </em><em>object</em><em> or </em><em>pandas.DataFrame</em>) -- The specified data to insert, the dimension of data needs to align with column
number</p></li>
<li><p><strong>partition_name</strong> (<em>str</em>) -- The partition name which the data will be inserted to, if partition
name is not passed, then the data will be inserted to &quot;_default&quot;
partition</p></li>
<li><p><strong>timeout</strong> -- <ul>
<li><p><em>timeout</em> (<code class="docutils literal notranslate"><span class="pre">float</span></code>) --
An optional duration of time in seconds to allow for the RPC. If timeout
is set to None, the client keeps waiting until the server responds or an error occurs.</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A MutationResult object contains a property named <cite>insert_count</cite> represents how many</p>
</dd>
</dl>
<p>entities have been inserted into milvus and a property named <cite>primary_keys</cite> is a list of primary
keys of the inserted entities.
:rtype: MutationResult</p>
<dl class="field-list">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>CollectionNotExistException</strong> -- If the specified collection does not exist.</p></li>
<li><p><strong>ParamError</strong> -- If input parameters are invalid.</p></li>
<li><p><strong>BaseException</strong> -- If the specified partition does not exist.</p></li>
</ul>
</dd>
<dt class="field-even">Example</dt>
<dd class="field-even"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType
>>> import random
>>> connections.connect()
<pymilvus.client.stub.Milvus object at 0x7f8579002dc0></pymilvus.client.stub.Milvus>
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_collection_insert", schema)
>>> data = [
...     [random.randint(1, 100) for _ in range(10)],
...     [[random.random() for _ in range(2)] for _ in range(10)],
... ]
>>> collection.insert(data)
>>> collection.num_entities
10
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Collection.delete">
<code class="sig-name descname">delete</code><span class="sig-paren">(</span><em class="sig-param">expr</em>, <em class="sig-param">partition_name=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pymilvus.Collection.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete entities with an expression condition.
And return results to show how many entities will be deleted.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expr</strong> (<em>str</em>) -- The expression to specify entities to be deleted</p></li>
<li><p><strong>partition_name</strong> (<em>str</em>) -- Name of partitions that contain entities</p></li>
<li><p><strong>timeout</strong> (<em>float</em>) -- An optional duration of time in seconds to allow for the RPC. When timeout
is set to None, client waits until server response or error occur</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A MutationResult object contains a property named <cite>delete_count</cite> represents how many
entities will be deleted.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>MutationResult</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>RpcError</strong> -- If gRPC encounter an error</p></li>
<li><p><strong>ParamError</strong> -- If parameters are invalid</p></li>
<li><p><strong>BaseException</strong> -- If the return result from server is not ok</p></li>
</ul>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType
>>> import random
>>> connections.connect()
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("film_date", DataType.INT64),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_collection_query", schema)
>>> # insert
>>> data = [
...     [i for i in range(10)],
...     [i + 2000 for i in range(10)],
...     [[random.random() for _ in range(2)] for _ in range(10)],
... ]
>>> collection.insert(data)
>>> collection.num_entities
</code></pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> expr = "film_id in [ 0, 1 ]"
>>> res = collection.delete(expr)
>>> assert len(res) == 2
>>> print(f"- Deleted entities: {res}")
- Delete results: [0, 1]
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Collection.search">
<code class="sig-name descname">search</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">anns_field</em>, <em class="sig-param">param</em>, <em class="sig-param">limit</em>, <em class="sig-param">expr=None</em>, <em class="sig-param">partition_names=None</em>, <em class="sig-param">output_fields=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">round_decimal=-1</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pymilvus.Collection.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Conducts a vector similarity search with an optional boolean expression as filter.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>list</em><em>[</em><em>list</em><em>[</em><em>float</em><em>]</em><em>]</em>) -- The vectors of search data, the length of data is number of query (nq), the
dim of every vector in data must be equal to vector field's of collection.</p></li>
<li><p><strong>anns_field</strong> (<em>str</em>) -- The vector field used to search of collection.</p></li>
<li><p><strong>param</strong> (<em>dict</em>) -- The parameters of search, such as <code class="docutils literal notranslate"><span class="pre">nprobe</span></code>.</p></li>
<li><p><strong>limit</strong> (<em>int</em>) -- The max number of returned record, also known as <code class="docutils literal notranslate"><span class="pre">topk</span></code>.</p></li>
<li><p><strong>expr</strong> (<em>str</em>) -- The boolean expression used to filter attribute.</p></li>
<li><p><strong>partition_names</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) -- The names of partitions to search.</p></li>
<li><p><strong>output_fields</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) -- The fields to return in the search result, not supported now.</p></li>
<li><p><strong>timeout</strong> (<em>float</em>) -- An optional duration of time in seconds to allow for the RPC. When timeout
is set to None, client waits until server response or error occur.</p></li>
<li><p><strong>round_decimal</strong> (<em>int</em>) -- The specified number of decimal places of returned distance</p></li>
<li><p><strong>kwargs</strong> -- <ul>
<li><p><em>_async</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>) --
Indicate if invoke asynchronously. When value is true, method returns a
SearchFuture object; otherwise, method returns results from server directly.</p></li>
<li><p><em>_callback</em> (<code class="docutils literal notranslate"><span class="pre">function</span></code>) --
The callback function which is invoked after server response successfully.
It functions only if _async is set to True.</p></li>
<li><p><em>consistency_level</em> (<code class="docutils literal notranslate"><span class="pre">str/int</span></code>) --
Which consistency level to use when searching in the collection. See details in
<a class="reference external" href="https://github.com/milvus-io/milvus/blob/master/docs/developer_guides/how-guarantee-ts-works.md">https://github.com/milvus-io/milvus/blob/master/docs/developer_guides/how-guarantee-ts-works.md</a>.
Note: this parameter will overwrite the same parameter specified when user created the collection,
if no consistency level was specified, search will use the consistency level when you create the collection.</p></li>
<li><p><em>guarantee_timestamp</em> (<code class="docutils literal notranslate"><span class="pre">int</span></code>) --
This function instructs Milvus to see all operations performed before a provided timestamp. If no
such timestamp is provided, then Milvus will search all operations performed to date.
Note: only used in Customized consistency level.</p></li>
<li><p><em>graceful_time</em> (<code class="docutils literal notranslate"><span class="pre">int</span></code>) --
Only used in bounded consistency level. If graceful_time is set, PyMilvus will use current timestamp minus
the graceful_time as the <cite>guarantee_timestamp</cite>. This option is 5s by default if not set.</p></li>
<li><p><em>travel_timestamp</em> (<code class="docutils literal notranslate"><span class="pre">int</span></code>) --
Users can specify a timestamp in a search to get results based on a data view
at a specified point in time.</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SearchResult: SearchResult is iterable and is a 2d-array-like class, the first dimension is
the number of vectors to query (nq), the second dimension is the number of limit(topk).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="search.html#pymilvus.SearchResult" title="pymilvus.SearchResult">SearchResult</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>RpcError</strong> -- If gRPC encounter an error.</p></li>
<li><p><strong>ParamError</strong> -- If parameters are invalid.</p></li>
<li><p><strong>DataTypeNotMatchException</strong> -- If wrong type of param is passed.</p></li>
<li><p><strong>BaseException</strong> -- If the return result from server is not ok.</p></li>
</ul>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType
>>> import random
>>> connections.connect()
<pymilvus.client.stub.Milvus object at 0x7f8579002dc0></pymilvus.client.stub.Milvus>
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_collection_search", schema)
>>> # insert
>>> data = [
...     [i for i in range(10)],
...     [[random.random() for _ in range(2)] for _ in range(10)],
... ]
>>> collection.insert(data)
>>> collection.num_entities
10
>>> collection.load()
>>> # search
>>> search_param = {
...     "data": [[1.0, 1.0]],
...     "anns_field": "films",
...     "param": {"metric_type": "L2"},
...     "limit": 2,
...     "expr": "film_id > 0",
... }
>>> res = collection.search(**search_param)
>>> assert len(res) == 1
>>> hits = res[0]
>>> assert len(hits) == 2
>>> print(f"- Total hits: {len(hits)}, hits ids: {hits.ids} ")
- Total hits: 2, hits ids: [8, 5]
>>> print(f"- Top1 hit id: {hits[0].id}, distance: {hits[0].distance}, score: {hits[0].score} ")
- Top1 hit id: 8, distance: 0.10143111646175385, score: 0.10143111646175385
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Collection.query">
<code class="sig-name descname">query</code><span class="sig-paren">(</span><em class="sig-param">expr</em>, <em class="sig-param">output_fields=None</em>, <em class="sig-param">partition_names=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pymilvus.Collection.query" title="Permalink to this definition">¶</a></dt>
<dd><p>Query with a set of criteria, and results in a list of records that match the query exactly.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expr</strong> (<em>str</em>) -- The query expression</p></li>
<li><p><strong>output_fields</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) -- A list of fields to return</p></li>
<li><p><strong>partition_names</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) -- Name of partitions that contain entities</p></li>
<li><p><strong>timeout</strong> (<em>float</em>) -- An optional duration of time in seconds to allow for the RPC. When timeout
is set to None, client waits until server response or error occur</p></li>
<li><p><strong>kwargs</strong> -- <ul>
<li><p><em>consistency_level</em> (<code class="docutils literal notranslate"><span class="pre">str/int</span></code>) --
Which consistency level to use during a query on the collection. For details, see
<a class="reference external" href="https://github.com/milvus-io/milvus/blob/master/docs/developer_guides/how-guarantee-ts-works.md">https://github.com/milvus-io/milvus/blob/master/docs/developer_guides/how-guarantee-ts-works.md</a>.
Note: this parameter will overwrite the same parameter specified when user created the collection,
if no consistency level was specified, query will use the consistency level when you create the collection.</p></li>
<li><p><em>guarantee_timestamp</em> (<code class="docutils literal notranslate"><span class="pre">int</span></code>) --
This function instructs Milvus to see all operations performed before a provided timestamp. If no
such timestamp is specified, Milvus queries all operations performed to date.
Note: only used in Customized consistency level.</p></li>
<li><p><em>graceful_time</em> (<code class="docutils literal notranslate"><span class="pre">int</span></code>) --
Only used in bounded consistency level. If graceful_time is set, PyMilvus will use current timestamp minus
the graceful_time as the <cite>guarantee_timestamp</cite>. This option is 5s by default if not set.</p></li>
<li><p><em>travel_timestamp</em> (<code class="docutils literal notranslate"><span class="pre">int</span></code>) --
Users can specify a timestamp in a search to get results based on a data view
at a specified point in time.</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list that contains all results</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>RpcError</strong> -- If gRPC encounter an error</p></li>
<li><p><strong>ParamError</strong> -- If parameters are invalid</p></li>
<li><p><strong>DataTypeNotMatchException</strong> -- If wrong type of param is passed</p></li>
<li><p><strong>BaseException</strong> -- If the return result from server is not ok</p></li>
</ul>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType
>>> import random
>>> connections.connect()
<pymilvus.client.stub.Milvus object at 0x7f8579002dc0></pymilvus.client.stub.Milvus>
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("film_date", DataType.INT64),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_collection_query", schema)
>>> # insert
>>> data = [
...     [i for i in range(10)],
...     [i + 2000 for i in range(10)],
...     [[random.random() for _ in range(2)] for _ in range(10)],
... ]
>>> collection.insert(data)
>>> collection.num_entities
10
>>> collection.load()
>>> # query
>>> expr = "film_id in [ 0, 1 ]"
>>> res = collection.query(expr, output_fields=["film_date"])
>>> assert len(res) == 2
>>> print(f"- Query results: {res}")
- Query results: [{'film_id': 0, 'film_date': 2000}, {'film_id': 1, 'film_date': 2001}]
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Collection.partitions">
<em class="property">property </em><code class="sig-name descname">partitions</code><a class="headerlink" href="#pymilvus.Collection.partitions" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all partitions of the collection.</p>
<dl class="field-list">
<dt class="field-odd">Return list[Partition]</dt>
<dd class="field-odd"><p>List of Partition object, return when operation is successful.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>CollectionNotExistException</strong> -- If collection doesn't exist.</p>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType
>>> connections.connect()
<pymilvus.client.stub.Milvus object at 0x7f8579002dc0></pymilvus.client.stub.Milvus>
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_collection_partitions", schema)
>>> collection.partitions
[{"name": "_default", "description": "", "num_entities": 0}]
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Collection.partition">
<code class="sig-name descname">partition</code><span class="sig-paren">(</span><em class="sig-param">partition_name</em><span class="sig-paren">)</span> &#x2192; pymilvus.orm.partition.Partition<a class="headerlink" href="#pymilvus.Collection.partition" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the partition corresponding to name. Return None if not existed.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>partition_name</strong> (<em>str</em>) -- The name of the partition to get.</p>
</dd>
<dt class="field-even">Return Partition</dt>
<dd class="field-even"><p>Partition object corresponding to partition_name.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>CollectionNotExistException</strong> -- If collection doesn't exist.</p></li>
<li><p><strong>BaseException</strong> -- If partition doesn't exist.</p></li>
</ul>
</dd>
<dt class="field-even">Example</dt>
<dd class="field-even"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType
>>> connections.connect()
<pymilvus.client.stub.Milvus object at 0x7f8579002dc0></pymilvus.client.stub.Milvus>
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_collection_partition", schema)
>>> collection.partition("_default")
{"name": "_default", "description": "", "num_entities": 0}
>>> collection.partition("partition")
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Collection.create_partition">
<code class="sig-name descname">create_partition</code><span class="sig-paren">(</span><em class="sig-param">partition_name</em>, <em class="sig-param">description=''</em><span class="sig-paren">)</span><a class="headerlink" href="#pymilvus.Collection.create_partition" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the partition corresponding to name if not existed.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>partition_name</strong> (<em>str</em>) -- The name of the partition to create.</p></li>
<li><p><strong>description</strong> (<em>str</em>) -- The description of the partition corresponding to name.</p></li>
</ul>
</dd>
<dt class="field-even">Return Partition</dt>
<dd class="field-even"><p>Partition object corresponding to partition_name.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>CollectionNotExistException</strong> -- If collection doesn't exist.</p></li>
<li><p><strong>BaseException</strong> -- If partition doesn't exist.</p></li>
</ul>
</dd>
<dt class="field-even">Example</dt>
<dd class="field-even"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType
>>> connections.connect()
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_collection_create_partition", schema)
>>> collection.create_partition("comedy", description="comedy films")
{"name": "comedy", "description": "comedy films", "num_entities": 0}
>>> collection.partition("comedy")
{"name": "partition", "description": "comedy films", "num_entities": 0}
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Collection.has_partition">
<code class="sig-name descname">has_partition</code><span class="sig-paren">(</span><em class="sig-param">partition_name</em>, <em class="sig-param">timeout=None</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#pymilvus.Collection.has_partition" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if a specified partition exists.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>partition_name</strong> (<em>str</em>) -- The name of the partition to check</p></li>
<li><p><strong>timeout</strong> (<em>float</em>) -- An optional duration of time in seconds to allow for the RPC. When timeout
is set to None, client waits until server response or error occur</p></li>
</ul>
</dd>
<dt class="field-even">Return bool</dt>
<dd class="field-even"><p>Whether a specified partition exists.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>CollectionNotExistException</strong> -- If collection doesn't exist.</p>
</dd>
<dt class="field-even">Example</dt>
<dd class="field-even"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType
>>> connections.connect()
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_collection_has_partition", schema)
>>> collection.create_partition("comedy", description="comedy films")
{"name": "comedy", "description": "comedy films", "num_entities": 0}
>>> collection.has_partition("comedy")
True
>>> collection.has_partition("science_fiction")
False
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Collection.drop_partition">
<code class="sig-name descname">drop_partition</code><span class="sig-paren">(</span><em class="sig-param">partition_name</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pymilvus.Collection.drop_partition" title="Permalink to this definition">¶</a></dt>
<dd><p>Drop the partition and its corresponding index files.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>partition_name</strong> (<em>str</em>) -- The name of the partition to drop.</p></li>
<li><p><strong>timeout</strong> -- <ul>
<li><p><em>timeout</em> (<code class="docutils literal notranslate"><span class="pre">float</span></code>) --
An optional duration of time in seconds to allow for the RPC. If timeout
is set to None, the client keeps waiting until the server responds or an error occurs.</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>CollectionNotExistException</strong> -- If collection doesn't exist.</p></li>
<li><p><strong>BaseException</strong> -- If partition doesn't exist.</p></li>
</ul>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType
>>> connections.connect()
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_collection_drop_partition", schema)
>>> collection.create_partition("comedy", description="comedy films")
{"name": "comedy", "description": "comedy films", "num_entities": 0}
>>> collection.has_partition("comedy")
True
>>> collection.drop_partition("comedy")
>>> collection.has_partition("comedy")
False
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Collection.indexes">
<em class="property">property </em><code class="sig-name descname">indexes</code><a class="headerlink" href="#pymilvus.Collection.indexes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all indexes of the collection.</p>
<dl class="field-list">
<dt class="field-odd">Return list[Index]</dt>
<dd class="field-odd"><p>List of Index objects, returned when this operation is successful.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>CollectionNotExistException</strong> -- If the collection does not exist.</p>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType
>>> connections.connect()
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_collection_indexes", schema)
>>> collection.indexes
[]
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Collection.index">
<code class="sig-name descname">index</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; pymilvus.orm.index.Index<a class="headerlink" href="#pymilvus.Collection.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches the index object of the of the specified name.</p>
<dl class="field-list">
<dt class="field-odd">Return Index</dt>
<dd class="field-odd"><p>Index object corresponding to index_name.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>CollectionNotExistException</strong> -- If the collection does not exist.</p></li>
<li><p><strong>BaseException</strong> -- If the specified index does not exist.</p></li>
</ul>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType
>>> connections.connect()
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_collection_index", schema)
>>> index = {"index_type": "IVF_FLAT", "params": {"nlist": 128}, "metric_type": "L2"}
>>> collection.create_index("films", index)
Status(code=0, message='')
>>> collection.indexes
[<pymilvus.index.Index object at 0x7f4435587e20>]</pymilvus.index.Index>
>>> collection.index()
<pymilvus.index.Index object at 0x7f44355a1460></pymilvus.index.Index>
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Collection.create_index">
<code class="sig-name descname">create_index</code><span class="sig-paren">(</span><em class="sig-param">field_name</em>, <em class="sig-param">index_params</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span> &#x2192; pymilvus.orm.index.Index<a class="headerlink" href="#pymilvus.Collection.create_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates index for a specified field. Return Index Object.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>field_name</strong> (<em>str</em>) -- The name of the field to create an index for.</p></li>
<li><p><strong>index_params</strong> (<em>dict</em>) -- The indexing parameters.</p></li>
<li><p><strong>timeout</strong> (<em>float</em>) -- An optional duration of time in seconds to allow for the RPC. When timeout
is set to None, client waits until server response or error occur</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>CollectionNotExistException</strong> -- If the collection does not exist.</p></li>
<li><p><strong>ParamError</strong> -- If the index parameters are invalid.</p></li>
<li><p><strong>BaseException</strong> -- If field does not exist.</p></li>
<li><p><strong>BaseException</strong> -- If the index has been created.</p></li>
</ul>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType
>>> connections.connect()
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_collection_create_index", schema)
>>> index = {"index_type": "IVF_FLAT", "params": {"nlist": 128}, "metric_type": "L2"}
>>> collection.create_index("films", index)
Status(code=0, message='')
>>> collection.index()
<pymilvus.index.Index object at 0x7f44355a1460></pymilvus.index.Index>
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Collection.has_index">
<code class="sig-name descname">has_index</code><span class="sig-paren">(</span><em class="sig-param">timeout=None</em><span class="sig-paren">)</span> &#x2192; bool<a class="headerlink" href="#pymilvus.Collection.has_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether a specified index exists.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> (<em>float</em>) -- An optional duration of time in seconds to allow for the RPC. When timeout
is set to None, client waits until server response or error occur</p>
</dd>
<dt class="field-even">Return bool</dt>
<dd class="field-even"><p>Whether the specified index exists.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>CollectionNotExistException</strong> -- If the collection does not exist.</p>
</dd>
<dt class="field-even">Example</dt>
<dd class="field-even"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType
>>> connections.connect()
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_collection_has_index", schema)
>>> index = {"index_type": "IVF_FLAT", "params": {"nlist": 128}, "metric_type": "L2"}
>>> collection.create_index("films", index)
>>> collection.has_index()
True
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Collection.drop_index">
<code class="sig-name descname">drop_index</code><span class="sig-paren">(</span><em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pymilvus.Collection.drop_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Drop index and its corresponding index files.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> -- <ul class="simple">
<li><p><em>timeout</em> (<code class="docutils literal notranslate"><span class="pre">float</span></code>) --
An optional duration of time in seconds to allow for the RPC. If timeout
is set to None, the client keeps waiting until the server responds or an error occurs.
Optional. A duration of time in seconds.</p></li>
</ul>
</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>CollectionNotExistException</strong> -- If the collection does not exist.</p></li>
<li><p><strong>BaseException</strong> -- If the index does not exist or has been dropped.</p></li>
</ul>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType
>>> connections.connect()
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_collection_has_index", schema)
>>> index = {"index_type": "IVF_FLAT", "params": {"nlist": 128}, "metric_type": "L2"}
>>> collection.create_index("films", index)
>>> collection.has_index()
True
>>> collection.drop_index()
>>> collection.has_index()
False
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
