
<span id="id1"></span><h1>Connections<a class="headerlink" href="#connections" title="Permalink to this headline">¶</a></h1>
<p>Before connecting to Milvus, the user needs to configure the address and port of the service, and an alias can be assigned to the configuration. The role of <cite>Connections</cite> is to manage the configuration content of each connection and the corresponding connection object.  Using the <cite>Connections</cite> object, users can either configure a single connection to a single service instance, or configure multiple connections to multiple different service instances.  In PyMilvus-ORM, <cite>Connections</cite> is implemented as a singleton class.</p>
<div class="section" id="constructor">
<h2>Constructor<a class="headerlink" href="#constructor" title="Permalink to this headline">¶</a></h2>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" >
<col style="width: 90%" >
</colgroup>
<tbody>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 34%" >
<col style="width: 66%" >
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Constructor</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference external" href="#pymilvus.Connection">Connections()</a></p></td>
<td><p>A singleton class used to manage connections and correspoinding configurations.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" >
<col style="width: 90%" >
</colgroup>
<tbody>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 57%" >
<col style="width: 43%" >
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>API</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference external" href="#pymilvus.Connections.add_connection">add_connection()</a></p></td>
<td><p>Configures a connection, including address and port.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#pymilvus.Connections.remove_connection">remove_connection(alias)</a></p></td>
<td><p>Delete a connection configuration.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#pymilvus.Connections.connect">connect([alias])</a></p></td>
<td><p>Create a connection object to connect to Milvus.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#pymilvus.Connections.disconnect">disconnect([alias])</a></p></td>
<td><p>Disconnect from Milvus and close the connection object.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#pymilvus.Connections.list_connections">list_connections()</a></p></td>
<td><p>List all connections.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#pymilvus.Connections.get_connection_addr">get_connection_addr([alias])</a></p></td>
<td><p>Retrieves connection's configuration by alias.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="apis">
<h2>APIs<a class="headerlink" href="#apis" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pymilvus.Connections">
<em class="property">class </em><code class="sig-prename descclassname">pymilvus.</code><code class="sig-name descname">Connections</code><a class="headerlink" href="#pymilvus.Connections" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for managing all connections of milvus.
Used as a singleton in this module.</p>
<dl class="method">
<dt id="pymilvus.Connections.add_connection">
<code class="sig-name descname">add_connection</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pymilvus.Connections.add_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Configures a milvus connection.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><code>connections.add_connection(
    default={"host": "localhost", "port": "19530"},
    dev={"host": "localhost", "port": "19531"},
)
</code></pre></div>
</div>
<p>The above example creates two milvus connections named default and dev.</p>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Connections.disconnect">
<code class="sig-name descname">disconnect</code><span class="sig-paren">(</span><em class="sig-param">alias: str</em><span class="sig-paren">)</span><a class="headerlink" href="#pymilvus.Connections.disconnect" title="Permalink to this definition">¶</a></dt>
<dd><p>Disconnects connection from the registry.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>alias</strong> (<em>str</em>) -- The name of milvus connection</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Connections.remove_connection">
<code class="sig-name descname">remove_connection</code><span class="sig-paren">(</span><em class="sig-param">alias: str</em><span class="sig-paren">)</span><a class="headerlink" href="#pymilvus.Connections.remove_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes connection from the registry.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>alias</strong> (<em>str</em>) -- The name of milvus connection</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Connections.connect">
<code class="sig-name descname">connect</code><span class="sig-paren">(</span><em class="sig-param">alias='default'</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pymilvus.Connections.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a milvus connection and register it under given alias.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>alias</strong> (<em>str</em>) -- The name of milvus connection</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>NotImplementedError</strong> -- If handler in connection parameters is not GRPC.</p></li>
<li><p><strong>ParamError</strong> -- If pool in connection parameters is not supported.</p></li>
<li><p><strong>Exception</strong> -- If server specified in parameters is not ready, we cannot connect to
server.</p></li>
</ul>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections
>>> connections.connect("test", host="localhost", port="19530")
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Connections.list_connections">
<code class="sig-name descname">list_connections</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; list<a class="headerlink" href="#pymilvus.Connections.list_connections" title="Permalink to this definition">¶</a></dt>
<dd><p>List names of all connections.</p>
<dl class="field-list">
<dt class="field-odd">Return list</dt>
<dd class="field-odd"><p>Names of all connections.</p>
</dd>
<dt class="field-even">Example</dt>
<dd class="field-even"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections
>>> connections.connect("test", host="localhost", port="19530")
>>> connections.list_connections()
// TODO [('default', None), ('test', <pymilvus.client.grpc_handler.GrpcHandler object at 0x7f05003f3e80>)]</pymilvus.client.grpc_handler.GrpcHandler>
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Connections.get_connection_addr">
<code class="sig-name descname">get_connection_addr</code><span class="sig-paren">(</span><em class="sig-param">alias: str</em><span class="sig-paren">)</span><a class="headerlink" href="#pymilvus.Connections.get_connection_addr" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves connection configure by alias.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>alias</strong> (<em>str</em>) -- The name of milvus connection</p>
</dd>
<dt class="field-even">Return dict</dt>
<dd class="field-even"><p>The connection configure which of the name is alias.
If alias does not exist, return empty dict.</p>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections
>>> connections.connect("test", host="localhost", port="19530")
>>> connections.list_connections()
[('default', None), ('test', <pymilvus.client.grpc_handler.GrpcHandler object at 0x7f4045335f10>)]</pymilvus.client.grpc_handler.GrpcHandler>
>>> connections.get_connection_addr('test')
{'host': 'localhost', 'port': '19530'}
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
