
<h1>Partition<a class="headerlink" href="#partition" title="Permalink to this headline">¶</a></h1>
<p>A partition is a group of entities in one collection with the same label. Entities inserted without a label
will be tagged a default label by milvus.</p>
<p>Partition is managable, which means managing a group of entities with the same label in one collection.</p>
<div class="section" id="constructor">
<h2>Constructor<a class="headerlink" href="#constructor" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 67%" >
<col style="width: 33%" >
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Constructor</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference external" href="#pymilvus.Partition">Partition()</a></p></td>
<td><p>Milvus partition.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="attributes">
<h2>Attributes<a class="headerlink" href="#attributes" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 57%" >
<col style="width: 43%" >
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>API</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference external" href="#pymilvus.Partition.description">description</a></p></td>
<td><p>Return the description text.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#pymilvus.Partition.name">name</a></p></td>
<td><p>Return the partition name.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#pymilvus.Partition.is_empty">is_empty</a></p></td>
<td><p>Return whether the Partition is empty.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#pymilvus.Partition.num_entities">num_entities</a></p></td>
<td><p>Return the number of entities.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 38%" >
<col style="width: 16%" >
<col style="width: 47%" >
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>API</p></th>
<th class="head" colspan="2"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference external" href="#pymilvus.Partition.drop">drop()</a></p></td>
<td colspan="2"><p>Drop the Partition, as well as its corresponding index files.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#pymilvus.Partition.load">load()</a></p></td>
<td colspan="2"><p>Load the Partition from disk to memory.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#pymilvus.Partition.release">release()</a></p></td>
<td colspan="2"><p>Release the Partition from memory.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="#pymilvus.Partition.insert">insert()</a></p></td>
<td colspan="2"><p>Insert data into partition.</p></td>
</tr>
<tr class="row-even"><td colspan="3"><p><a class="reference external" href="#pymilvus.Partition.delete">delete()</a>   | Delete entities with an expression condition.</p></td>
</tr>
<tr class="row-odd"><td colspan="3"><p><a class="reference external" href="#pymilvus.Partition.search">search()</a>   | Vector similarity search with an optional boolean expression as filters.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="#pymilvus.Partition.query">query()</a></p></td>
<td colspan="2"><p>Query with a set of criteria.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="api-refereences">
<h2>API Refereences<a class="headerlink" href="#api-refereences" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pymilvus.Partition">
<em class="property">class </em><code class="sig-prename descclassname">pymilvus.</code><code class="sig-name descname">Partition</code><span class="sig-paren">(</span><em class="sig-param">collection</em>, <em class="sig-param">name</em>, <em class="sig-param">description=''</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pymilvus.Partition" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="pymilvus.Partition.description">
<em class="property">property </em><code class="sig-name descname">description</code><a class="headerlink" href="#pymilvus.Partition.description" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the description text.</p>
<dl class="field-list">
<dt class="field-odd">Return str</dt>
<dd class="field-odd"><p>Partition description text, return when operation is successful</p>
</dd>
<dt class="field-even">Example</dt>
<dd class="field-even"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, Partition, FieldSchema, CollectionSchema, DataType
>>> connections.connect()
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_partition_description", schema)
>>> partition = Partition(collection, "comedy", "comedy films")
>>> partition.description
'comedy films'
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Partition.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#pymilvus.Partition.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the partition name.</p>
<dl class="field-list">
<dt class="field-odd">Return str</dt>
<dd class="field-odd"><p>Partition name, return when operation is successful</p>
</dd>
<dt class="field-even">Example</dt>
<dd class="field-even"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, Partition, FieldSchema, CollectionSchema, DataType
>>> connections.connect()
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_partition_name", schema)
>>> partition = Partition(collection, "comedy", "comedy films")
>>> partition.name
'comedy'
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Partition.is_empty">
<em class="property">property </em><code class="sig-name descname">is_empty</code><a class="headerlink" href="#pymilvus.Partition.is_empty" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether the partition is empty</p>
<dl class="field-list simple">
<dt class="field-odd">Return bool</dt>
<dd class="field-odd"><p>Whether the partition is empty</p>
</dd>
</dl>
<ul class="simple">
<li><p>True: The partition is empty.</p></li>
<li><p>False: The partition is not empty.</p></li>
</ul>
<dl class="field-list">
<dt class="field-odd">Example</dt>
<dd class="field-odd"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, Partition, FieldSchema, CollectionSchema, DataType
>>> connections.connect()
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_partition_is_empty", schema)
>>> partition = Partition(collection, "comedy", "comedy films")
>>> partition.is_empty
True
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Partition.num_entities">
<em class="property">property </em><code class="sig-name descname">num_entities</code><a class="headerlink" href="#pymilvus.Partition.num_entities" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of entities.</p>
<dl class="field-list">
<dt class="field-odd">Return int</dt>
<dd class="field-odd"><p>Number of entities in this partition.</p>
</dd>
<dt class="field-even">Example</dt>
<dd class="field-even"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, Partition, FieldSchema, CollectionSchema, DataType
>>> connections.connect()
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_partition_num_entities", schema)
>>> partition = Partition(collection, "comedy", "comedy films")
>>> data = [
...     [i for i in range(10)],
...     [[float(i) for i in range(2)] for _ in range(10)],
... ]
>>> partition.insert(data)
>>> partition.num_entities
10
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Partition.drop">
<code class="sig-name descname">drop</code><span class="sig-paren">(</span><em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pymilvus.Partition.drop" title="Permalink to this definition">¶</a></dt>
<dd><p>Drop the partition, as well as its corresponding index files.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> (<em>float</em>) -- An optional duration of time in seconds to allow for the RPC. When timeout
is set to None, client waits until server response or error occur</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>PartitionNotExistException</strong> -- When partitoin does not exist</p>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, Partition, FieldSchema, CollectionSchema, DataType
>>> connections.connect()
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_partition_drop", schema)
>>> partition = Partition(collection, "comedy", "comedy films")
>>> partition.drop()
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Partition.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pymilvus.Partition.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the partition from disk to memory.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> (<em>float</em>) -- An optional duration of time in seconds to allow for the RPC. When timeout
is set to None, client waits until server response or error occur</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>InvalidArgumentException</strong> -- If argument is not valid</p>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, Partition, FieldSchema, CollectionSchema, DataType
>>> connections.connect()
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_partition_load", schema)
>>> partition = Partition(collection, "comedy", "comedy films")
>>> partition.load()
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Partition.release">
<code class="sig-name descname">release</code><span class="sig-paren">(</span><em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pymilvus.Partition.release" title="Permalink to this definition">¶</a></dt>
<dd><p>Release the partition from memory.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> (<em>float</em>) -- An optional duration of time in seconds to allow for the RPC. When timeout
is set to None, client waits until server response or error occur</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>PartitionNotExistException</strong> -- When partitoin does not exist</p>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, Partition, FieldSchema, CollectionSchema, DataType
>>> connections.connect()
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_partition_release", schema)
>>> partition = Partition(collection, "comedy", "comedy films")
>>> partition.load()
>>> partition.release()
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Partition.insert">
<code class="sig-name descname">insert</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pymilvus.Partition.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert data into partition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>list-like</em><em>(</em><em>list</em><em>, </em><em>tuple</em><em>) </em><em>object</em><em> or </em><em>pandas.DataFrame</em>) -- The specified data to insert, the dimension of data needs to align with column
number</p></li>
<li><p><strong>timeout</strong> (<em>float</em>) -- An optional duration of time in seconds to allow for the RPC. When timeout
is set to None, client waits until server response or error occur</p></li>
<li><p><strong>kwargs</strong> -- <ul>
<li><p><em>timeout</em> (<code class="docutils literal notranslate"><span class="pre">float</span></code>) --
An optional duration of time in seconds to allow for the RPC. When timeout
is set to None, client waits until server response or error occur.</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A MutationResult object contains a property named <cite>insert_count</cite> represents how many</p>
</dd>
</dl>
<p>entities have been inserted into milvus and a property named <cite>primary_keys</cite> is a list of primary
keys of the inserted entities.
:rtype: MutationResult</p>
<dl class="field-list">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>PartitionNotExistException</strong> -- When partitoin does not exist</p>
</dd>
<dt class="field-even">Example</dt>
<dd class="field-even"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, Partition, FieldSchema, CollectionSchema, DataType
>>> connections.connect()
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_partition_insert", schema)
>>> partition = Partition(collection, "comedy", "comedy films")
>>> data = [
...     [i for i in range(10)],
...     [[float(i) for i in range(2)] for _ in range(10)],
... ]
>>> partition.insert(data)
>>> partition.num_entities
10
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Partition.search">
<code class="sig-name descname">search</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">anns_field</em>, <em class="sig-param">param</em>, <em class="sig-param">limit</em>, <em class="sig-param">expr=None</em>, <em class="sig-param">output_fields=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">round_decimal=-1</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pymilvus.Partition.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Vector similarity search with an optional boolean expression as filters.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>list</em><em>[</em><em>list</em><em>[</em><em>float</em><em>]</em><em>]</em>) -- The vectors of search data, the length of data is number of query (nq), the
dim of every vector in data must be equal to vector field's of collection.</p></li>
<li><p><strong>anns_field</strong> (<em>str</em>) -- The vector field used to search of collection.</p></li>
<li><p><strong>param</strong> (<em>dict</em>) -- The parameters of search, such as nprobe, etc.</p></li>
<li><p><strong>limit</strong> -- The max number of returned record, we also called this parameter as topk.</p></li>
<li><p><strong>round_decimal</strong> (<em>int</em>) -- The specified number of decimal places of returned distance</p></li>
<li><p><strong>expr</strong> (<em>str</em>) -- The boolean expression used to filter attribute.</p></li>
<li><p><strong>output_fields</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) -- The fields to return in the search result, not supported now.</p></li>
<li><p><strong>timeout</strong> (<em>float</em>) -- An optional duration of time in seconds to allow for the RPC. When timeout
is set to None, client waits until server response or error occur.</p></li>
<li><p><strong>kwargs</strong> -- <ul>
<li><p><em>_async</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>) --
Indicate if invoke asynchronously. When value is true, method returns a
SearchFuture object; otherwise, method returns results from server directly.</p></li>
<li><p><em>_callback</em> (<code class="docutils literal notranslate"><span class="pre">function</span></code>) --
The callback function which is invoked after server response successfully. It only
takes effect when _async is set to True.</p></li>
<li><p><em>consistency_level</em> (<code class="docutils literal notranslate"><span class="pre">str/int</span></code>) --
Which consistency level to use when searching in the partition. For details, see
<a class="reference external" href="https://github.com/milvus-io/milvus/blob/master/docs/developer_guides/how-guarantee-ts-works.md">https://github.com/milvus-io/milvus/blob/master/docs/developer_guides/how-guarantee-ts-works.md</a>.
Note: this parameter will overwrite the same parameter specified when user created the collection,
if no consistency level was specified, search will use the consistency level when you create the collection.</p></li>
<li><p><em>guarantee_timestamp</em> (<code class="docutils literal notranslate"><span class="pre">int</span></code>) --
This function instructs Milvus to see all operations performed before a provided timestamp. If no
such timestamp is provided, then Milvus will search all operations performed to date.
Note: only used in Customized consistency level.</p></li>
<li><p><em>graceful_time</em> (<code class="docutils literal notranslate"><span class="pre">int</span></code>) --
Only used in bounded consistency level. If graceful_time is set, PyMilvus will use current timestamp minus
the graceful_time as the <cite>guarantee_timestamp</cite>. This option is 5s by default if not set.</p></li>
<li><p><em>travel_timestamp</em> (<code class="docutils literal notranslate"><span class="pre">int</span></code>) --
Users can specify a timestamp in a search to get results based on a data view</p>
<blockquote>
<div><p>at a specified point in time.</p>
</div></blockquote>
</li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>SearchResult:
SearchResult is iterable and is a 2d-array-like class, the first dimension is
the number of vectors to query (nq), the second dimension is the number of limit(topk).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="search.html#pymilvus.SearchResult" title="pymilvus.SearchResult">SearchResult</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>RpcError</strong> -- If gRPC encounter an error.</p></li>
<li><p><strong>ParamError</strong> -- If parameters are invalid.</p></li>
<li><p><strong>BaseException</strong> -- If the return result from server is not ok.</p></li>
</ul>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType
>>> import random
>>> connections.connect()
<pymilvus.client.stub.Milvus object at 0x7f8579002dc0></pymilvus.client.stub.Milvus>
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_collection_search", schema)
>>> partition = Partition(collection, "comedy", "comedy films")
>>> # insert
>>> data = [
...     [i for i in range(10)],
...     [[random.random() for _ in range(2)] for _ in range(10)],
... ]
>>> partition.insert(data)
>>> partition.num_entities
10
>>> partition.load()
>>> # search
>>> search_param = {
...     "data": [[1.0, 1.0]],
...     "anns_field": "films",
...     "param": {"metric_type": "L2"},
...     "limit": 2,
...     "expr": "film_id > 0",
... }
>>> res = partition.search(**search_param)
>>> assert len(res) == 1
>>> hits = res[0]
>>> assert len(hits) == 2
>>> print(f"- Total hits: {len(hits)}, hits ids: {hits.ids} ")
- Total hits: 2, hits ids: [8, 5]
>>> print(f"- Top1 hit id: {hits[0].id}, distance: {hits[0].distance}, score: {hits[0].score} ")
- Top1 hit id: 8, distance: 0.10143111646175385, score: 0.10143111646175385
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pymilvus.Partition.query">
<code class="sig-name descname">query</code><span class="sig-paren">(</span><em class="sig-param">expr</em>, <em class="sig-param">output_fields=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#pymilvus.Partition.query" title="Permalink to this definition">¶</a></dt>
<dd><p>Query with a set of criteria, and results in a list of records that match the query exactly.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expr</strong> (<em>str</em>) -- The query expression</p></li>
<li><p><strong>output_fields</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) -- A list of fields to return</p></li>
<li><p><strong>timeout</strong> (<em>float</em>) -- An optional duration of time in seconds to allow for the RPC. When timeout
is set to None, client waits until server response or error occur</p></li>
<li><p><strong>kwargs</strong> -- <ul>
<li><p><em>consistency_level</em> (<code class="docutils literal notranslate"><span class="pre">str/int</span></code>) --
Which consistency level to use during a query on the collection. For details, see
<a class="reference external" href="https://github.com/milvus-io/milvus/blob/master/docs/developer_guides/how-guarantee-ts-works.md">https://github.com/milvus-io/milvus/blob/master/docs/developer_guides/how-guarantee-ts-works.md</a>.
Note: this parameter will overwrite the same parameter specified when user created the collection,
if no consistency level was specified, query will use the consistency level when you create the collection.</p></li>
<li><p><em>guarantee_timestamp</em> (<code class="docutils literal notranslate"><span class="pre">int</span></code>) --
This function instructs Milvus to see all operations performed before a provided timestamp. If no
such timestamp is specified, Milvus will query all operations performed to date.
Note: only used in Customized consistency level.</p></li>
<li><p><em>graceful_time</em> (<code class="docutils literal notranslate"><span class="pre">int</span></code>) --
Only used in bounded consistency level. If graceful_time is set, PyMilvus will use current timestamp minus
the graceful_time as the <cite>guarantee_timestamp</cite>. This option is 5s by default if not set.</p></li>
<li><p><em>travel_timestamp</em> (<code class="docutils literal notranslate"><span class="pre">int</span></code>) --
Users can specify a timestamp in a search to get results based on a data view</p>
<blockquote>
<div><p>at a specified point in time.</p>
</div></blockquote>
</li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list that contains all results</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>RpcError</strong> -- If gRPC encounter an error</p></li>
<li><p><strong>ParamError</strong> -- If parameters are invalid</p></li>
<li><p><strong>BaseException</strong> -- If the return result from server is not ok</p></li>
</ul>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><code>>>> from pymilvus import connections, Collection, FieldSchema, CollectionSchema, DataType
>>> import random
>>> connections.connect()
<pymilvus.client.stub.Milvus object at 0x7f8579002dc0></pymilvus.client.stub.Milvus>
>>> schema = CollectionSchema([
...     FieldSchema("film_id", DataType.INT64, is_primary=True),
...     FieldSchema("film_date", DataType.INT64),
...     FieldSchema("films", dtype=DataType.FLOAT_VECTOR, dim=2)
... ])
>>> collection = Collection("test_collection_query", schema)
>>> partition = Partition(collection, "comedy", "comedy films")
>>> # insert
>>> data = [
...     [i for i in range(10)],
...     [i + 2000 for i in range(10)],
...     [[random.random() for _ in range(2)] for _ in range(10)],
... ]
>>> partition.insert(data)
>>> partition.num_entities
10
>>> partition.load()
>>> # query
>>> expr = "film_id in [ 0, 1 ]"
>>> res = partition.query(expr, output_fields=["film_date"])
>>> assert len(res) == 2
>>> print(f"- Query results: {res}")
- Query results: [{'film_id': 0, 'film_date': 2000}, {'film_id': 1, 'film_date': 2001}]
</code></pre></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
